buildscript {
    ext {
    }
    repositories {
        maven { url "https://maven.aliyun.com/nexus/content/groups/public/" }
        mavenCentral()
    }
//    dependencies {
//        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.4'
//    }
}

plugins {
    id 'java'
    //id 'org.springframework.boot' version '3.2.2'
    //id 'io.spring.dependency-management' version '1.1.4'
    //id 'application'
    // shadow plugin to produce fat JARs
    // https://github.com/johnrengelman/shadow
    //id 'com.github.johnrengelman.shadow' version "${shadowVersion}"
}

group = 'io.github.btpka3'
version = '0.0.1-SNAPSHOT'
//mainClassName = 'org.myorg.quickstart.StreamingJob'
description = """Flink Quickstart Job"""
//ext {
//    javaVersion = '1.8'
//    flinkVersion = '1.8.0'
//    scalaBinaryVersion = '2.11'
//    slf4jVersion = '1.7.7'
//    log4jVersion = '1.2.17'
//}

java {
    sourceCompatibility = '11'
}


repositories {
//    maven { url "https://maven.aliyun.com/nexus/content/groups/public/" }
    mavenCentral()
}

dependencies {
    //implementation 'org.springframework.boot:spring-boot-starter'
    implementation "org.apache.flink:flink-java:${flinkVersion}"
    implementation "org.apache.flink:flink-streaming-java:${flinkVersion}"
    implementation "org.apache.flink:flink-table-api-java-bridge:${flinkVersion}"
//    implementation "org.apache.flink:flink-clients::${flinkVersion}"
    //testImplementation 'org.springframework.boot:spring-boot-starter-test'
    testImplementation("org.apache.flink:flink-examples-streaming:${flinkVersion}") {
        exclude group: 'org.jcuda'
    }
    testImplementation "org.apache.flink:flink-examples-batch:${flinkVersion}"
    testImplementation "org.apache.flink:flink-connector-wikiedits:${flinkVersion}"
}

tasks.named('test') {
    useJUnitPlatform()
}
